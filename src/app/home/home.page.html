<app-application-header [config]="headerConfig" (actionClick)="handleActionClick($event)"></app-application-header>
<ion-content [fullscreen]="true">
  <div class="ion-margin-vertical">
    <app-section-header [headerName]="'MY_IMPROVEMENTS'" [showViewMore]="improvementsCount > limit" [navigateUrl]="'/list/my-improvements'"></app-section-header>
    @if (myImprovements.length > 0) {
      <app-carousel
        [items]="myImprovements"
        [template]="itemTemplate1"
        [itemsToShow]="limit"
      >
      <ng-template #itemTemplate1 let-item="$item" let-index="$index">
        <div class="card">
          <app-myimprovement-card
          [myImprovement]="item"
            [index]="index"
          ></app-myimprovement-card>
        </div>
      </ng-template>
    </app-carousel>
    }
    @else {
      @if(!noData){
        <div class="create-improvement-card">
          <mat-card >
            <img class="card-image" src="assets/MI-2.0-card-images/recommended-bg.png" alt="Card image" />
            <h1 class="card-title">{{ "CREATE_YOUR_MI" | translate}}</h1>
            <button class="card-button">{{ "CREATE_IMPROVEMENT" | translate}}</button>
          </mat-card>
        </div>
      }
    }
  </div>
@if (spotlightstories.length > 0) {
  <div class="ion-margin-vertical">


  <app-section-header [headerName]="'SPOTLIGHTS'" [showViewMore]="spotlightCount > limit" [navigateUrl]="'/list/spotlight'"></app-section-header>

  <app-carousel
    [items]="spotlightstories"
    [template]="itemTemplate2"
    [itemsToShow]="limit"
  >

  <ng-template #itemTemplate2 let-item="$item" let-index="$index">
    <app-spotlight-card
      [spotlightStory]="item"
      [index]="index"
    ></app-spotlight-card>
  </ng-template>
    </app-carousel>
</div>
}
@if (recommendationList.length > 0) {
<div class="ion-margin-vertical">

  <app-section-header [headerName]="'RECOMMENDATIONS'" [showViewMore]="recommendationCount > limit" [navigateUrl]="'/list/recommendations'"></app-section-header>

  <app-carousel
    [items]="recommendationList"
    [template]="itemTemplate"
    [itemsToShow]="limit"
  >

  <ng-template #itemTemplate let-item="$item" let-index="$index">
    <app-recommendation-card [cardData]="item"></app-recommendation-card>
  </ng-template>
    </app-carousel>
</div>
}
<!-- demo to use the nodata-component -->
<!-- <app-no-data [message]="'NO_DATA_MSG'"></app-no-data> -->

</ion-content>